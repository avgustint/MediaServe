<div class="manual-container">
  <div class="search-section">
    <div class="search-input-wrapper">
      <input
        type="text"
        class="search-input"
        [(ngModel)]="searchTerm"
        (input)="onSearchChange()"
        placeholder="Search library items..."
      />
      <button *ngIf="searchTerm" class="clear-search-btn" (click)="clearSearch()" title="Clear search">
        Ã—
      </button>
    </div>
    <div class="search-results" *ngIf="showSearchResults">
      <div
        *ngIf="searchResults.length === 0 && searchTerm.trim().length > 0"
        class="no-results"
      >
        No library items found
      </div>
      <div
        *ngFor="let result of searchResults"
        class="search-result-item"
        (click)="onSearchResultSelect(result)"
      >
        <div class="search-result-name">{{ result.name }}</div>
        <div class="search-result-description" *ngIf="result.description">
          {{ result.description }}
        </div>
        <div class="search-result-footer">
          <div class="search-result-type">Type: {{ result.type }}</div>
          <div class="item-guid-badge">{{ result.guid }}</div>
        </div>
      </div>
    </div>
  </div>

  <div class="guid-display">
    <div class="guid-label">Enter ID:</div>
    <div class="guid-badge-container">
      <div class="guid-badge">{{ enteredGuid || "0" }}</div>
      <button *ngIf="enteredGuid.length > 0" class="clear-guid-btn" (click)="onClearGuid()" title="Clear ID">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="no-item" *ngIf="!libraryItem && searchedGuid">
      No library item found with ID: {{ searchedGuid }}
    </div>
  </div>

  <div class="content-scrollable">
    <div class="keypad-container">
      <div class="keypad-row">
        <button class="keypad-button" (click)="onNumberClick('1')">1</button>
        <button class="keypad-button" (click)="onNumberClick('2')">2</button>
        <button class="keypad-button" (click)="onNumberClick('3')">3</button>
      </div>
      <div class="keypad-row">
        <button class="keypad-button" (click)="onNumberClick('4')">4</button>
        <button class="keypad-button" (click)="onNumberClick('5')">5</button>
        <button class="keypad-button" (click)="onNumberClick('6')">6</button>
      </div>
      <div class="keypad-row">
        <button class="keypad-button" (click)="onNumberClick('7')">7</button>
        <button class="keypad-button" (click)="onNumberClick('8')">8</button>
        <button class="keypad-button" (click)="onNumberClick('9')">9</button>
      </div>
      <div class="keypad-row">
        <button class="keypad-button" (click)="onBackspaceClick()" title="Delete last digit">C</button>
        <button class="keypad-button" (click)="onNumberClick('0')">0</button>
      <button class="keypad-button enter-button" (click)="onEnterClick()" title="Enter">
        <i class="fas fa-arrow-right"></i>
      </button>
      </div>
    </div>
  </div>
</div>
