<div class="app-wrapper">
  <nav *ngIf="isAuthenticated()" class="navbar">
    <div class="nav-brand-section">
      <div class="nav-brand">Media Player Admin</div>
      <div
        class="connection-status"
        [class.connected]="connectionStatus === 'connected'"
        [class.connecting]="connectionStatus === 'connecting'"
        [class.disconnected]="connectionStatus === 'disconnected'"
      >
        {{
          connectionStatus === "connected"
            ? "Connected"
            : connectionStatus === "connecting"
            ? "Connecting..."
            : "Disconnected"
        }}
      </div>
    </div>
    <div class="nav-buttons">
      <div class="user-info" *ngIf="user">
        <span class="user-name">{{ getUserName() }}</span>
      </div>
      <button class="nav-btn" (click)="navigateToPlaylist()">Playlist</button>
      <button class="nav-btn" (click)="navigateToEditor()" *ngIf="hasViewEditorPermission()">Editor</button>
      <button class="nav-btn" (click)="navigateToSettings()" *ngIf="hasViewSettingsPermission()" title="Settings">
        <i class="fas fa-cog"></i>
      </button>
      <button class="logout-btn" (click)="logout()" title="Logout">
        <i class="fas fa-sign-out-alt"></i>
      </button>
    </div>
  </nav>
  <router-outlet></router-outlet>
</div>

